# AWS Configuration
# Credentials are OPTIONAL here - if not set, boto3 will use:
# 1. Environment variables (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
# 2. Shared credentials file (~/.aws/credentials from 'aws configure')
# 3. IAM role (for EC2/Lambda)
#
# To use credentials from 'aws configure', simply leave these commented out:
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1

# AWS Lambda Web Scraper Function (optional - falls back to direct HTTP if not set)
# AWS_LAMBDA_SCRAPER_FUNCTION=your-lambda-function-name

# Database
DATABASE_URL=sqlite:///data/url_monitor.db

# Storage
PDF_STORAGE_PATH=./data/pdfs

# Processing Settings
OCR_TEXT_THRESHOLD=50

# Temporary Feature: Remove Inaccessible New Forms
# If True, automatically disables new forms (no versions) that are inaccessible
# Default: False (disabled)
# REMOVE_INACCESSIBLE_NEW_FORMS=True

# Parallel Processing
# Maximum number of parallel workers for processing URLs
# Default: 10 (set to 1 to disable parallel processing)
# MAX_WORKERS=10

# Logging
LOG_LEVEL=INFO

# ==============================================================================
# AWS IDP (Intelligent Document Processing) Features
# All features below are ADDITIVE and opt-in. Existing functionality is unchanged
# when these are disabled (default).
# ==============================================================================

# ------------------------------------------------------------------------------
# Amazon Comprehend Settings
# Document classification, Named Entity Recognition (NER), PII detection
# ------------------------------------------------------------------------------

# Master switch for Comprehend features (default: False)
# COMPREHEND_ENABLED=True

# Individual Comprehend feature flags (all require COMPREHEND_ENABLED=True)
# COMPREHEND_CLASSIFICATION_ENABLED=True   # Document type classification
# COMPREHEND_NER_ENABLED=True               # Named Entity Recognition

# Custom Comprehend classifier endpoint ARN (optional)
# If set, uses your trained custom classifier instead of heuristic classification
# COMPREHEND_CLASSIFIER_ARN=arn:aws:comprehend:us-east-1:123456789012:document-classifier-endpoint/my-classifier

# Custom Comprehend entity recognizer endpoint ARN (optional)
# If set, uses your trained custom entity recognizer for court-form specific entities
# COMPREHEND_ENTITY_RECOGNIZER_ARN=arn:aws:comprehend:us-east-1:123456789012:entity-recognizer-endpoint/my-recognizer

# ------------------------------------------------------------------------------
# Amazon Textract Advanced Features (beyond basic OCR)
# Form key-value pairs, tables, queries, signature detection
# ------------------------------------------------------------------------------

# Individual Textract feature flags (each adds to existing OCR capability)
# TEXTRACT_FORMS_ENABLED=True      # Extract key-value pairs (Form Number, Revision Date, etc.)
# TEXTRACT_TABLES_ENABLED=True     # Extract table structure from documents
# TEXTRACT_QUERIES_ENABLED=True    # Targeted Q&A for specific fields
# TEXTRACT_SIGNATURES_ENABLED=True # Detect signature locations

# Default queries for Textract Queries API (semicolon-separated)
# TEXTRACT_DEFAULT_QUERIES=What is the form number?;What is the revision date?;What is the title?

# ------------------------------------------------------------------------------
# Amazon A2I (Augmented AI) - Human-in-the-loop Review
# Route low-confidence items to human reviewers
# ------------------------------------------------------------------------------

# Enable A2I integration (default: False)
# A2I_ENABLED=True

# A2I Flow Definition ARN (required if A2I_ENABLED=True)
# Create this in AWS Console or via CloudFormation
# A2I_FLOW_DEFINITION_ARN=arn:aws:sagemaker:us-east-1:123456789012:flow-definition/my-flow

# A2I Workteam ARN (optional, for private workteam)
# A2I_WORKTEAM_ARN=arn:aws:sagemaker:us-east-1:123456789012:workteam/my-team

# Confidence threshold for A2I (items below this are sent to human review)
# Default: 0.70 (70%)
# A2I_CONFIDENCE_THRESHOLD=0.70

# ------------------------------------------------------------------------------
# Lambda Enrichment Pipeline
# Async processing of IDP features via AWS Lambda
# ------------------------------------------------------------------------------

# Enable Lambda enrichment pipeline (default: False)
# LAMBDA_ENRICHMENT_ENABLED=True

# Lambda function name for enrichment processing
# AWS_LAMBDA_ENRICHMENT_FUNCTION=pdf-monitor-enrichment

# S3 bucket for enrichment pipeline (optional, for large files or S3 triggers)
# ENRICHMENT_S3_BUCKET=my-enrichment-bucket

# Run IDP enrichment asynchronously (default: True)
# Set to False to run enrichment synchronously in the main pipeline
# IDP_ENRICHMENT_ASYNC=True

# ==============================================================================
# IAM Permissions Required for IDP Features
# ==============================================================================
# If you enable IDP features, the AWS credentials need additional permissions:
#
# Comprehend:
#   - comprehend:DetectEntities
#   - comprehend:ClassifyDocument (if using custom classifier)
#
# Textract (AnalyzeDocument):
#   - textract:AnalyzeDocument
#
# A2I:
#   - sagemaker:StartHumanLoop
#   - sagemaker:DescribeHumanLoop
#   - sagemaker:StopHumanLoop
#
# Lambda Enrichment:
#   - lambda:InvokeFunction
#
# S3 (if using enrichment bucket):
#   - s3:GetObject
#   - s3:PutObject
# ==============================================================================

# ------------------------------------------------------------------------------
# Amazon Bedrock Nova 2 Lite - Direct PDF Analysis
# Native PDF processing without separate OCR step (alternative to Textract+Claude)
# ------------------------------------------------------------------------------

# Enable Nova document processing (default: False)
# When enabled, you can use NovaDocumentProcessor for direct PDF analysis
# BEDROCK_NOVA_ENABLED=True

# Nova model ID (default: amazon.nova-2-lite-v1:0)
# Other options: us.amazon.nova-pro-v1:0, us.amazon.nova-micro-v1:0
# BEDROCK_NOVA_MODEL_ID=amazon.nova-2-lite-v1:0

# S3 bucket for large PDF processing (optional, for files >25MB)
# BEDROCK_NOVA_S3_BUCKET=my-nova-bucket

# ==============================================================================
# IAM Permissions for Nova 2 Lite
# ==============================================================================
# Add these permissions to use Nova document processing:
#
# Bedrock Nova:
#   - bedrock:InvokeModel
#   - bedrock:InvokeModelWithResponseStream
#
# S3 (if using S3 for large files):
#   - s3:GetObject
#
# See iam/bedrock-nova-policy.json for a complete policy template.
# ==============================================================================

